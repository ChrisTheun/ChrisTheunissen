<!DOCTYPE HTML>
<!--
	Prologue by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Chris Theunissen Online Portfolio - Student Performance Prediction</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
			<div id="header">

				<div class="top">

					<!-- Logo -->
						<div id="logo">
							<span class="image avatar48"><img src="images/avatar.jpg" alt="" /></span>
							<h1 id="title">Chris Theunissen</h1>
							<p>Data Enthusiast</p>
						</div>

					<!-- Nav -->
						<nav id="nav">
							<ul>
								<li><a href="#top" id="top-link"><span class="icon solid fa-newspaper">Title</span></a></li>
								<li><a href="#introduction" id="introduction-link"><span class="icon solid fa-info-circle">Introduction</span></a></li>
								<li><a href="#data_understanding" id="data_understanding-link"><span class="icon solid fa-database">Data Understanding</span></a></li>
								<li><a href="#data_formatting" id="data_formatting-link"><span class="icon solid fa-puzzle-piece">Data Formatting</span></a></li>
								<li><a href="#data_preprocessing" id="data_preprocessing-link"><span class="icon solid fa-cogs">Data Preprocessing</span></a></li>						
								<li><a href="#modeling" id="modeling-link"><span class="icon solid fa-magic">Modeling</span></a></li>
								<li><a href="#results" id="results-link"><span class="icon solid fa-flag">Results</span></a></li>
							</ul>
						</nav>

				</div>

				<div class="bottom">

					<!-- Social Icons -->
						<ul class="icons">
							<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon brands fa-github"><span class="label">Github</span></a></li>
							<li><a href="#" class="icon brands fa-dribbble"><span class="label">Dribbble</span></a></li>
							<li><a href="#" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
						</ul>

				</div>

			</div>

		<!-- Main -->
			<div id="main">

				<!-- Top -->
					<section id="top" class="one dark cover">
						<div class="container">

							<header>
								<h2 class="alt"><strong>Student Performance Prediction:<br />
								A Deep Learning Approach</strong></h2>

								<p>In this project I use Long Short-Term Memory networks (LSTMs) to predict the performance of Open University students.
									In addition, I compare the performance of the LSTMs with that of traditional machine learning models including decision trees, random forests, support vector machines, feed forward neural networks and more.
									I made use of the R programming language for most of the data formatting, while I used Python, in particular the Keras and scikit-learn packages, for modeling and normalization purposes. </p>
							</header>

						</div>
					</section>
					
				<!-- Introduction -->
					<section id="introduction" class="three">
						<div class="container">

							<header>
								<h2>Introduction</h2>
							</header>

							<a href="#" class="image featured"><img src="images/pic08small.jpg" alt="" /></a>

							<p>In January 2019, I obtained my master's degree after defending my master's thesis in which I showed that LSTMs can be of value when used to predict student performance compared to more commonly used machine learning models.
								In this project I replicate the research done in said thesis, be it with some modifications. The biggest change being the ability of this project's models to account for students joining the university's courses at different points in time.
								Consequently, the results of this project are better generalizable to educational settings in which students do not all start a course simultaneously, as is for example the case in most Massive Open Online Courses (MOOCs).</p>
								
							<p>Predicting student performance is one of the most popular streams of research in the field of educational data mining. Being able to accurately predict student performance at an early stage could prove valuable in numerous ways.
								For example, when students that are at risk of failing a course can be identified appropriate measures could be taken to assist these students. Pilot tests of these type of systems have already been conducted at Purdue University with promising results. <a href="https://www.researchgate.net/publication/254462830_Course_signals_at_Purdue_Using_learning_analytics_to_increase_student_success" target="_blank"><i>(Arnold & Pistilli, 2012)</i></a>
								The implemented systems managed to increase student retention rates as well as improve course grades. In addition, better admission policies could be designed when accurate prediction of student performance is feasible.
								In order to capture these benefits, accurate algorithms are necessary. Considering that deep learning methods are currently the state-of-the-art when it comes to predictive analytics, it is peculiar that so little research that applies deep learning models to student performance prediction has been conducted.
								My thesis (and by extension this project) serve as an attempt to fill that gap in the literature.</p>
								
							<p>Public student data from the <a href="https://analyse.kmi.open.ac.uk/open_dataset" target="_blank">Open University Learning Analytics Dataset (OULAD)</a> is used to compare the student performance prediction prowess of LSTMs and traditional machine learning models including decision trees, random forests, support vector machines,
								logistic regression models, naive Bayes classifiers and feed forward neural networks.</p>
								

						</div>
					</section>			
					
				<!-- Data Understanding -->
					<section id="data_understanding" class="three">
						<div class="container">

							<header>
								<h2>Data Understanding</h2>
							</header>

							<a href="#" class="image featured"><img src="images/pic08small.jpg" alt="" /></a>

							<p>The OULAD is a public dataset which contains anonymized data on roughly 30.000 students over seven distinct courses. The data covers a timespan of two years divided into a maximum of 4 periods (or <i>presentations</i>).
								The four distinct course presentations in this dataset include courses started in February 2013 <i>(2013B)</i> and February 2014 <i>(2014B)</i> as well as courses that started in October 2013 <i>(2013J)</i> and October 2014 <i>(2014J)</i>.
								For each student in those courses, the dataset contains not only student information such as gender, highest education level, age band and region but also information on the clicks of the students in the Virtual Learning Environment (VLE) 
								but also data on the assessments that the students took and their assessment scores.</p>
								
								<p>In order to make some visualizations of the data in R, it is first necessary to load the required packages and import the CSV files. I used the dplyr package for data formatting and the ggplot2 package for visualization purposes.</p>
								
							<pre class="prettyprint lang-r"><code>	
library("dplyr")
library("ggplot2")

# Import public Open University dataset
assessments <- read.csv("assessments.csv")
courses <- read.csv("courses.csv")
studentAssessment <- read.csv("studentAssessment.csv")
studentInfo <- read.csv("studentInfo.csv")
studentRegistration <- read.csv("studentRegistration.csv")
studentVle <- read.csv("studentVle.csv")
vle <- read.csv("vle.csv")
							</code></pre>
							
							<p>Now that the packages and datasets are loaded in, we can make our first graph visualizing the distribution of students over the different course presentations.</p>
							
							<pre class="prettyprint lang-r"><code>	
ggplot(data = studentInfo, aes(x = code_presentation,                       # Create a barchart with the data from the studentInfo dataframe
                               fill = code_module)) +           
  geom_bar(stat = 'count', position=position_dodge()) +                     # Make sure the height of the bars represents the count of students
  facet_grid(.~code_module) +                                               # Create the bar charts for each course (code_module)
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5),                # Add some visual polish
        axis.ticks.x = element_blank(),       
        panel.grid.major.x = element_blank(),
        plot.title = element_text(hjust = 0.5),
        panel.background = element_rect(fill = "grey85"),
        plot.background = element_rect(fill = "transparent", color = NA),
        strip.background = element_rect(fill = "grey75", colour = NA))+
  scale_fill_brewer(palette="Set2") +
  guides(fill=FALSE) +
  ggtitle("Student Distribution") +                                         # Add plot title
  xlab("Code presentation") +                                               # Add x-label
  ylab("Student count") +                                                   # Add y-label
  ggsave(filename = "Student Distribution.png",                             # Export the graph as a .png file
         bg = "transparent", dpi = 600)                        
							</code></pre>
							
							<p> The code above generates the figure depicted below. The figure made with the ggplot2 package shows that the number of students varies wildly between courses. All courses except for GGG appear to have more students that start their course in October as opposed to February.
								The figure also illustrates that not all the courses are taught in all four periods. Only three out of the seven courses were taught for all four of the course presentations. Their course codes are BBB, DDD and FFF.
								Because those are the three courses with the most data samples, I decided to only make models and keep the data for those three courses. Moreover, I removed all of the students that did not finish the course from the dataset as nothing can be said about their final result in the course.
								Specific drop-out prediction models are better suited to identify the students that will withdraw from the course. The final results of the students are categorized as either "fail", "pass", or "distinction". The models' prediction accuracy are likely to suffer significantly from having three target variable labels instead of two.
								That combined with the notion that the distinction between students that pass or fail a course is likely to be of more importance than that between students that pass or pass with distinction, made me decide to merge the "distinction" and "pass" target labels into one combined "pass" label.</p>
							
							<img src="images/Project1/Student Distribution.png" width = "800", heigth = "600" alt="" />


							<pre class="prettyprint lang-r"><code>	
studentInfo <- studentInfo[studentInfo$code_module %in% c("BBB","DDD","FFF"),]    # Only retain students from courses BBB, DDD and FFF in the studentInfo df
studentInfo <- studentInfo[studentInfo$final_result != "Withdrawn",]	          # Remove those students that dropped out
studentVle <- studentVle[studentVle$code_module %in% c("BBB","DDD","FFF"),]       # Only retain students from courses BBB, DDD and FFF in the studentVle df
studentInfo$final_result[studentInfo$final_result == "Distinction"] <- "Pass"     # Turn the "Distinction" final result into "Pass"
							</code></pre>
							
							<p>Now it is possible to examine the data further for the three specified courses with a particular focus on the relationship between the variables and the final result.
							   I personally like to make stacked bar charts for this purpose conveying the student pass rate for each categorical variable's level.
							   The dplyr package is used to compute this pass rate statistic as is shown in the code below. Afterwards, ggplot2 is used once again to generate the chart.
							   First, we take a look at the student pass rate by course presentation. To reiterate, the course presentation can be seen as the period in which the course takes place.</p>
							
							<pre class="prettyprint lang-r"><code>	
studentInfo %>%
  mutate(code_presentation = as.factor(code_presentation),     # Make sure factors have the right type
         final_result = as.factor(final_result),
         code_module = as.factor(code_module)) %>%
  group_by(code_module, code_presentation, final_result) %>%   # Group the data
  summarise(count_final_result = n()) %>%                      # Get the count of students per group   
  mutate(count_man = sum(count_final_result)) %>%              # Get the count of student in each course presentation
  mutate(percent = count_final_result / count_man * 100) %>%   # Compute the pass rate per presentation
  ungroup() %>%
  ggplot(aes(x = code_presentation,                            # Plot barchart with student pass rates
             y = count_final_result,
             group = final_result)) +
  geom_bar(aes(fill = final_result), 
           stat = "identity") +
  geom_text(aes(label = sprintf("%0.0f%%", percent)),          # Add visual polish 
            position = position_stack(vjust = 0.5),
            check_overlap = TRUE) +
  theme(plot.title = element_text(hjust = 0.5),
        panel.background = element_rect(fill = "grey85"),
        plot.background = element_rect(fill = "transparent", color = NA),
        strip.background = element_rect(fill = "grey75", colour = NA),
        legend.background = element_rect(fill = "transparent", color = NA)) +
  ggtitle("Student Pass Rate by Period") +                     # Add plot title
  xlab("Code presentation") +                                  # Add x-label
  ylab("Student count") +                                      # Add y-label
  labs(fill = "Final result") +                                # Add legend title
  facet_grid(.~code_module) +                                  # Create the bar charts for each course (code_module)
  ggsave(filename = "PR_plot.png",                             # Export the graph as a .png file
         bg = "transparent", dpi = 600)   
							</code></pre>
							
							<p>Similar to the first graph, this bar chart shows the student count in each course presentation, but this time only for course BBB, DDD and FFF respectively.
							   On top of that, the graph shows the pass rate in each period. On a first glance, we can say that the pass rate in each period is between 59 and 75 percent.
							   Moreover, the courses taught in the final period, October 2014, appear to have a slightly higher passing rate than the three preceding periods for these three courses.
							   This difference is more pronounced in course BBB and FFF than in DDD however. On average, the passing rates do not appear to be vastly different between courses.</p>
							
							<img src="images/Project1/PR_plot.png" width = "800", heigth = "600" alt="" />		
							
							<p>The next graph shows the passing rate by gender. The code in the following bar charts is virtually the same as in the code block above. The only differences are the replacement of the categorical variable on the x-axis and some changes in the visual polish such as font size.
								Each of the three courses appears to have a significantly different gender distribution. In course BBB, a social science course, there are disproportionately more female students than male students.
								In contrast, there are significantly more male students than female students in course FFF, which is a STEM course. Course DDD, another STEM course, also has more male than female students, but the discrepancy is not as big.
								The one thing the three courses have in common is that female students appear to do slightly better than male students judging from their superior pass rate.</p>

							<img src="images/Project1/PR_Gender_plot.png" width = "800", heigth = "600" alt="" />		
							
							<p>The following bar chart illustrates the pass rate by age band. The student either belongs in age category 0-35, 35-55 or 55+. The figure shows that there are very little students that are 55 years or older.
							   By far the most of the students belong in the 0-35 age category. It is interesting to note that students between 35 and 55 years old appear to perform slightly better than the younger students.
							   The sample size of older students is too small to base conclusions off of. </p>
							
							<img src="images/Project1/PR_Age_plot.png" width = "800", heigth = "600" alt="" />
							
							<p>The relationship between the students' former education level and pass rate is depicted in the graph below. On average, it appears to be the case that the higher the education level, the higher the pass rate.
								This indicates that highest education level might be a interesting predictor for student performance.
							    The distributions are also widely similar among courses with the bulk of the students having either a A-level or lower qualification, while only a select few students have no formal qualifications or a post graduate degree.  </p>
							
							<img src="images/Project1/PR_HE_plot.png" width = "800", heigth = "600" alt="" />
							
							<p>The OULAD also contains information on the amount of times the students attempted the course. The next plot shows that students that do not have any previous attempts, have a higher pass rate than students students that do have one or two previous attempts.
								The number of students that attempt a course more than three times is so small that it becomes difficult to draw any conclusions from those groups.</p>
							
							<img src="images/Project1/PR_PrevAttempts_plot.png" width = "800", heigth = "600" alt="" />
							
							<p>The following graph shows that a small fraction of the students has a disability. These students seem to perform slightly worse than students that do not have a disability.
								The particular type of disability could provide more insight into the effect of certain disabilities on student performance, but this data is not available and due to ethical concerns it might not be appropriate to use in performance predictions.</p>
							
							<img src="images/Project1/PR_Disability_plot.png" width = "800", heigth = "600" alt="" />
							
							<<p>The relationship between pass rate and IMD band is showcased in the next plot. IMD stand for Index of Multiple Deprivation and it's England's official measure of relative deprivation for small areas or neighborhoods.
							   This measure says something about how deprived the student's neighborhood is relative to other neighborhoods ranging from the least deprived (90-100% band) to the most deprived (0-10% band).
							   The bar without a label comprises the students whose IMD index value was missing. It is interesting to note that a large proportion of students with missing values for IMD band passed the course.
							   This might indicate that having a missing value for IMD band has some predictive power when it comes to predicting student performance. Therefore, it might be worth it to look into why these values are missing.
							   In general, it seems to be the case that the less deprived the student's neighborhood, the higher the passing rate. In other words, students living in well-off areas tend to perform better. </p>
							
							<img src="images/Project1/PR_IMD_plot.png" width = "1000", heigth = "750" alt="" />
							
							<p>Due to the many categories involved in the studied credits variable, I chose to plot the relationship between the number of credits for the modules the student is currently studying and the pass rate by means of a box plot.
							   The very similar box plots below show that there is hardly any connection to be drawn between the number of credits a student is studying and his or her likelihood to pass the course.</p> 
							
							<pre class="prettyprint lang-r"><code>
ggplot(data = studentInfo,aes(x = final_result,                                               
                              y = studied_credits,
                              fill = factor(final_result, levels = c("Fail", "Pass")))) +
  geom_boxplot() +                                                                  # Create a boxplot 
  scale_y_continuous(limits=c(0, 450)) +                                            # Determine scale cut-off values
  theme(plot.title = element_text(hjust = 0.5),                                     # Add visual polish
        panel.background = element_rect(fill = "grey85"),
        plot.background = element_rect(fill = "transparent", color = NA),
        strip.background = element_rect(fill = "grey75", colour = NA),
        legend.background = element_rect(fill = "transparent", color = NA)) +
  ggtitle("Student Pass Rate by Studied Credits") +                     
  xlab("Final result") +                                  
  ylab("Studied credits") +
  labs(fill = "Final result") +
  facet_grid(.~code_module) +
  ggsave(filename = "PR_credits_plot.png",                      
         bg = "transparent", dpi = 600) 
							</code></pre>
							
							<img src="images/Project1/PR_credits_plot.png" width = "800", heigth = "600" alt="" />
							
							<p>Due to the fact that the number of times students click in the VLE each day gets recorded, it is possible to plot the average number of clicks over time for those students that passed as well as those that failed the course, which is exactly what is shown in the graph below.
							   The graphs illustrate that there are some clear patterns when it comes to the number of clicks in the VLE for the different courses. For example, in course FFF the average number of clicks substantially increase as the course nears the end.
							   The daily amount of clicks here also seems more volatile for failing students than for passing students. The other two courses appear to have more subtle patterns. There also are some clear outliers in the data.
							   The sudden spike in the 2014B course period for course DDD is the most noteable. There are a few instances in which students have an extraordinarily large amount of clicks (6000+) on a certain day.
							   It is not clear whether this is due to faulty data collection or whether the student actually clicked that many times. It could be worth it to examine whether these clicks have predictive power when it comes to predicting student performance.
							   The type of object that the student clicked on within the VLE can also be identified. Perhaps there are certain resources students can click on that say relatively more about the students' chances of success.</p>
							
							<pre class="prettyprint lang-r"><code>
studentVle_fr <- merge(studentVle, studentInfo[,c(1:3,12)], by.x = c(1,2,3))             # Merge studentVle and studentInfo dataframes

studentVle_fr[,-c(4)] %>%                                                                # Use the new df without site_id variable
  mutate(date = as.integer(date),                                                        # Make sure variables have appropriate types
         sum_click = as.integer(sum_click),
         code_module = as.factor(code_module),
         final_result = as.factor(final_result),
         code_presentation = as.factor(code_presentation)) %>%
  distinct(code_module, code_presentation,id_student, sum_click, date, final_result) %>% # Remove duplicate rows
  group_by(code_module,code_presentation, final_result, date) %>%                        # Group df
  summarise(avg_clicks = mean(sum_click)) %>%                                            # Compute avg clicks summary statistic
  ungroup() %>%
  ggplot(mapping = aes(x = date, y = avg_clicks, group = final_result, color = final_result)) + # Plot linechart
  geom_line() +
  theme(plot.title = element_text(hjust = 0.5),                                                 # Visual polish
        panel.background = element_rect(fill = "grey85"),
        plot.background = element_rect(fill = "transparent", color = NA),
        strip.background = element_rect(fill = "grey75", colour = NA),
        legend.background = element_rect(fill = "transparent", color = NA)) +
  ggtitle("Students' Average Clicks over Time") +                     
  xlab("Date") +                                  
  ylab("Average clicks") +
  labs(color = "Final result") +
  facet_grid(code_module ~ code_presentation) +
  ggsave(filename = "Clicks_Time_plot.png",                      
       bg = "transparent", dpi = 600) 
							</code></pre>
							
							
							<img src="images/Project1/Clicks_Time_plot.png" width = "800", heigth = "600" alt="" />
							
							<p>The scatterplot below shows the relationship between the sum of clicks and the number of days the student was active in the VLE. In this case, active means that the student clicked at least one time in the VLE that specific day.
							   Instead of showing the progression over time, this plot utilizes the measures computed by the end of the course. It is apparent that students that did not click in the VLE often and were not active on the platform for many days are more likely to fail the course than active students with a lot of clicks.
							   Naturally, there are some exceptions but the overall pattern looks evident and makes intuitive sense.</p>
							
							<img src="images/Project1/Days_Clicks_plot.png" width = "800", heigth = "600" alt="" />
							
							<p>There are a number of assessments students have to complete during the courses. The following line charts show the average assessment scores over time for both students that failed and students that passed the course.
								There appears to be a clear distinction in average assessment scores between failing and passing students. Not surprisingly, assessment scores could therefore be a valuable predictor for student performance.
								Since the assessment structure for course BBB changed in October 2014, the pattern is different than in the previous years. The university decided to implement a smaller amount of assessments than in the periods before.
								The same goes for October 2013 in course DDD. The assessment structure in course FFF stayed the same over all four periods. The structural changes at different points in time might be a valuable indicator of the models' stability.
								It would be interesting to see how much worse the models perform for courses BBB and DDD compared to course FFF if they do at all.</p>
							
							<img src="images/Project1/Score_Date_plot.png" width = "800", heigth = "600" alt="" />
							
							<p>I ran some tests using backward selection to end up with a selection of variables appropriate to predict whether a student will pass or fail a certain course.
								The performance of the models did not appear to improve beyond the three variables of (1) the amount of times a student clicks in the VLE every day,
								(2) the amount of assessments the student completed every day and (3) the student's average assessment score updated daily.
								However, since it's also possible with the OULAD to break down the clicks in the VLE, it would be interesting to explore the effects of including the categories of resources that students clicked on in the VLE as additional predictors at a later stage.</p>


						</div>
					</section>
					
					
				<!-- Data Formatting -->
					<section id="data_formatting" class="three">
						<div class="container">

							<header>
								<h2>Data Formatting</h2>
							</header>

							<a href="#" class="image featured"><img src="images/pic08small.jpg" alt="" /></a>

							<p>This is the data formatting phase.</p>

						</div>
					</section>				
					
				<!-- Data Preprocessing -->
					<section id="data_preprocessing" class="three">
						<div class="container">

							<header>
								<h2>Data Preprocessing</h2>
							</header>

							<a href="#" class="image featured"><img src="images/pic08small.jpg" alt="" /></a>

							<p>This is the data preprocessing phase.</p>

						</div>
					</section>						
					

				<!-- Modeling -->
					<section id="modeling" class="three">
						<div class="container">

							<header>
								<h2>Modeling</h2>
							</header>

							<a href="#" class="image featured"><img src="images/pic08small.jpg" alt="" /></a>

							<p>This is the modeling phase.</p>

						</div>
					</section>					
								
			
				<!-- Results -->
					<section id="results" class="three">
						<div class="container">

							<header>
								<h2>Results</h2>
							</header>

							<a href="#" class="image featured"><img src="images/pic08small.jpg" alt="" /></a>

							<p>This is the results phase.</p>

						</div>
					</section>

			</div>

		<!-- Footer -->
			<div id="footer">

				<!-- Copyright -->
					<ul class="copyright">
						<li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

	</body>
</html>